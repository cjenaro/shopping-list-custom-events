{"version":3,"sources":["index.js"],"names":["shoppingForm","document","querySelector","list","items","handleSubmit","e","preventDefault","name","item","currentTarget","value","id","Date","now","complete","push","reset","dispatchEvent","CustomEvent","displayItems","html","map","join","innerHTML","mirrorToLocalStorage","localStorage","setItem","JSON","stringify","restoreFromLocalStorage","lsItems","parse","getItem","length","deleteItem","newItems","filter","markAsComplete","itemRef","find","addEventListener","parseInt","target","matches"],"mappings":";AAmEuB,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAnEvB,IAAMA,EAAeC,SAASC,cAAc,aACtCC,EAAOF,SAASC,cAAc,SAEhCE,EAAQ,GAEZ,SAASC,EAAaC,GACpBA,EAAEC,iBACIC,IACAC,EAAO,CACXD,KAFWF,EAAEI,cAAcD,KAAKE,MAGhCC,GAAIC,KAAKC,MACTC,UAAU,GAEZX,EAAMY,KAAKP,GACXH,EAAEI,cAAcO,QAChBd,EAAKe,cAAc,IAAIC,YAAY,iBAGrC,SAASC,IACDC,IAAAA,EAAOjB,EACVkB,IAAI,SAAAb,GAEeA,MAAAA,qDAAAA,OAAAA,EAAKG,GAAuBH,sBAAAA,OAAAA,EAAKM,UAAY,UACnCN,wCAAAA,OAAAA,EAAKD,KACdC,oCAAAA,OAAAA,EAAKG,GAA0BH,yBAAAA,OAAAA,EAAKD,KAHvD,qCAMDe,KAAK,IAERpB,EAAKqB,UAAYH,EAGnB,SAASI,IACPC,aAAaC,QAAQ,QAASC,KAAKC,UAAUzB,IAG/C,SAAS0B,IACHC,IACgB,EADhBA,EAAUH,KAAKI,MAAMN,aAAaO,QAAQ,UAC1CF,EAAQG,UACV9B,EAAAA,GAAMY,KAAQe,MAAAA,EAAAA,EAAAA,IACd5B,EAAKe,cAAc,IAAIC,YAAY,kBAIvC,SAASgB,EAAWvB,GACZwB,IAAAA,EAAWhC,EAAMiC,OAAO,SAAA5B,GAAQA,OAAAA,EAAKG,KAAOA,IAClDR,EAAQgC,EACRjC,EAAKe,cAAc,IAAIC,YAAY,iBAGrC,SAASmB,EAAe1B,GAChB2B,IAAAA,EAAUnC,EAAMoC,KAAK,SAAA/B,GAAQA,OAAAA,EAAKG,KAAOA,IAC/C2B,EAAQxB,UAAYwB,EAAQxB,SAC5BZ,EAAKe,cAAc,IAAIC,YAAY,iBAGrCnB,EAAayC,iBAAiB,SAAUpC,GACxCF,EAAKsC,iBAAiB,eAAgBrB,GACtCjB,EAAKsC,iBAAiB,eAAgBhB,GACtCtB,EAAKsC,iBAAiB,QAAS,SAASnC,GAChCM,IAAAA,EAAK8B,SAASpC,EAAEqC,OAAOhC,OACzBL,EAAEqC,OAAOC,QAAQ,UACnBT,EAAWvB,GACFN,EAAEqC,OAAOC,QAAQ,2BAC1BN,EAAe1B,KAGnBkB","file":"shopping-form.90e2b344.js","sourceRoot":"..","sourcesContent":["const shoppingForm = document.querySelector('.shopping')\nconst list = document.querySelector('.list')\n\nlet items = []\n\nfunction handleSubmit(e) {\n  e.preventDefault()\n  const name = e.currentTarget.item.value\n  const item = {\n    name,\n    id: Date.now(),\n    complete: false,\n  }\n  items.push(item)\n  e.currentTarget.reset()\n  list.dispatchEvent(new CustomEvent('itemsUpdated'))\n}\n\nfunction displayItems() {\n  const html = items\n    .map(item => {\n      return `<li class=\"shopping-item\">\n        <input value=\"${item.id}\" type=\"checkbox\" ${item.complete && 'checked'}/>\n        <span class=\"item-name\">${item.name}</span>\n        <button value=\"${item.id}\" aria-label=\"Remove ${item.name}\">&times;</button>\n      </li>`\n    })\n    .join('')\n\n  list.innerHTML = html\n}\n\nfunction mirrorToLocalStorage() {\n  localStorage.setItem('items', JSON.stringify(items))\n}\n\nfunction restoreFromLocalStorage() {\n  let lsItems = JSON.parse(localStorage.getItem('items'))\n  if (lsItems.length) {\n    items.push(...lsItems)\n    list.dispatchEvent(new CustomEvent('itemsUpdated'))\n  }\n}\n\nfunction deleteItem(id) {\n  const newItems = items.filter(item => item.id !== id)\n  items = newItems\n  list.dispatchEvent(new CustomEvent('itemsUpdated'))\n}\n\nfunction markAsComplete(id) {\n  const itemRef = items.find(item => item.id === id)\n  itemRef.complete = !itemRef.complete\n  list.dispatchEvent(new CustomEvent('itemsUpdated'))\n}\n\nshoppingForm.addEventListener('submit', handleSubmit)\nlist.addEventListener('itemsUpdated', displayItems)\nlist.addEventListener('itemsUpdated', mirrorToLocalStorage)\nlist.addEventListener('click', function(e) {\n  const id = parseInt(e.target.value)\n  if (e.target.matches('button')) {\n    deleteItem(id)\n  } else if (e.target.matches('input[type=\"checkbox\"]')) {\n    markAsComplete(id)\n  }\n})\nrestoreFromLocalStorage()"]}